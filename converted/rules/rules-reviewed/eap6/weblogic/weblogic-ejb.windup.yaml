metadata:
- description: "\n            This ruleset provides analysis of WebLogic proprietary
    classes and constructs for Enterprise Java Beans that may require\n            individual
    attention when migrating to JBoss EAP 6+.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,2.3.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,2.3.0.Final
    - id: org.jboss.windup.rules,windup-rules-xml,2.3.0.Final
  sourceTechnology:
  - id: weblogic
  targetTechnology:
  - id: eap
    versionRange: '[6,)'
  tag:
  - ejb
  - weblogic
rules:
  rule:
  - when:
      javaclass:
      - location:
        - IMPORT
        references: weblogic.{type}.{*}
    perform:
      iteration:
      - when:
          not:
          - {}
        hint:
        - message: "\n                            This application contains WebLogic
            EJBs probably generated by the WebLogic Server EJB tools.\n                        "
          link:
          - value: ""
            title: WebLogic Server EJB Tools
            href: https://docs.oracle.com/cd/E13222_01/wls/docs81b/ejb/EJB_tools.html
          tag:
          - ejb
          - weblogic
          title: WebLogic proprietary EJB
          category-id: mandatory
          effort: 1
    where:
    - matches:
      - pattern: (ejb|ejb20|ejbgen)?
      param: type
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: weblogic.javaee.TransactionTimeoutSeconds
    perform:
      hint:
      - message: "\n                        This application contains WebLogic proprietary
          `weblogic.javaee.TransactionTimeoutSeconds` annotation.\n                    "
        link:
        - value: ""
          title: WebLogic Server Deployment Elements
          href: https://docs.oracle.com/middleware/1221/wls/WLMDB/summary.htm#r35c1-t4
        - value: ""
          title: WebLogic Server EJB 3.0 Metadata Annotations
          href: https://docs.oracle.com/cd/E17904_01/web.1111/e13720/annotations.htm#EJBAD359
        - value: ""
          title: JBoss EAP 6 - Session Bean Transaction Timeout
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html-single/administration_and_configuration_guide/#Session_Bean_Transaction_Timeout
        - value: ""
          title: How to set EJB transaction timeout in JBoss EAP 6
          href: https://access.redhat.com/solutions/90553
        tag:
        - ejb
        - weblogic
        title: WebLogic proprietary timeout for transactions annotation
        category-id: mandatory
        effort: 3
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: weblogic.ejbgen.MessageDriven
    perform:
      hint:
      - message: "\n                        This application contains WebLogic proprietary
          `weblogic.ejbgen.MessageDriven` annotation.\n                    "
        link:
        - value: ""
          title: WebLogic EJBGen Annotation Reference
          href: https://docs.oracle.com/cd/E13222_01/wls/docs92/ejb/EJBGen_reference.html#wp1070171
        - value: ""
          title: JBoss EAP 7 - Configuring MDBs Using Annotations
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/developing_ejb_applications/#configuring_mdbs_using_annotations
        tag:
        - ejb
        - weblogic
        title: WebLogic proprietary MessageDriven annotation
        category-id: mandatory
        effort: 3
  - when:
      javaclass:
      - location:
        - INHERITANCE
        references: weblogic.ejb.{type}
    perform:
      hint:
      - message: "\n                        This class extends `weblogic.ejb.{type}`
          that needs to be removed.\n                    "
        link:
        - value: ""
          title: WebLogic Server - Javadoc
          href: https://docs.oracle.com/cd/E11035_01/wls100/javadocs/weblogic/ejb/GenericEntityBean.html
        - value: ""
          title: WebLogic Server - Javadoc
          href: https://docs.oracle.com/cd/E11035_01/wls100/javadocs/weblogic/ejb/GenericMessageDrivenBean.html
        - value: ""
          title: WebLogic Server - Javadoc
          href: https://docs.oracle.com/cd/E11035_01/wls100/javadocs/weblogic/ejb/GenericSessionBean.html
        - value: ""
          title: JBoss EAP 6 - Enterprise JavaBeans
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/6.4/html-single/development_guide/#chap-Enterprise_JavaBeans
        - value: ""
          title: JBoss EAP 7 - Developing EJB Applications
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/developing_ejb_applications/
        tag:
        - ejb
        - weblogic
        title: WebLogic proprietary EJB Bean
        category-id: mandatory
        effort: 3
    where:
    - matches:
      - pattern: (GenericEntityBean|GenericMessageDrivenBean|GenericSessionBean)
      param: type
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap6/weblogic/weblogic-ejb.windup.xml
