metadata:
- description: "\n            This ruleset contains rules to detect WebLogic specific
    services code (eg, startup listeners, and access to WebLogic specific service
    lookup utilities),\n            and to assist in the conversion of this code to
    code that is compatible with JBoss EAP 6+.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,2.3.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,2.3.0.Final
  sourceTechnology:
  - id: weblogic
  targetTechnology:
  - id: eap
    versionRange: '[6,7)'
  tag:
  - weblogic
rules:
  rule:
  - when:
      javaclass:
      - location:
        - IMPLEMENTS_TYPE
        references: weblogic.common.T3StartupDef
    perform:
      hint:
      - message: Replace this class with a class using the EJB 3.1 `@Singleton` and
          `@Startup` annotations.
        link:
        - value: ""
          title: EJB3.1 Singleton Bean
          href: http://docs.oracle.com/javaee/6/api/javax/ejb/Singleton.html
        - value: ""
          title: EJB3.1 Startup Bean
          href: http://docs.oracle.com/javaee/6/api/javax/ejb/Startup.html
        tag:
        - startup
        - weblogic
        title: WebLogic Startup Service
        category-id: mandatory
        effort: 3
  - when:
      javaclass:
      - references: weblogic.common.T3ServicesDef
    perform:
      hint:
      - message: "\n                      \n                      `T3ServicesDef`
          provides access to core services of the container, such as Timers and Logging
          facilities.\n\n                      Replace the services provided by this
          with a Singleton EJB (using the `@Singleton` annotation) that provides access
          to the equivalent services from JBoss EAP.\n                      \n                    "
        link:
        - value: ""
          title: Java EE Tutorial - @Singleton Session Bean
          href: http://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html
        tag:
        - webservice
        - weblogic
        title: WebLogic T3ServicesDef usage
        category-id: mandatory
        effort: 3
  - when:
      javaclass:
      - references: weblogic.{logger}{*}
    perform:
      hint:
      - message: "\n                      \n                      Oracle WebLogic
          logging classes should be replaced with SLF4J, Log4J, or Java Logging.\n\n
          \                     Please refer to the [JBoss EAP migration guide](https://access.redhat.com/documentation/en-us/JBoss_Enterprise_Application_Platform/6.4/html/Migration_Guide/chap-Migrate_Your_Application.html#sect-Logging_Changes)
          for more information on this.\n                      \n                    "
        link:
        - value: ""
          title: JBoss EAP 6 - Logging changes
          href: https://access.redhat.com/documentation/en-us/JBoss_Enterprise_Application_Platform/6.4/html/Migration_Guide/chap-Migrate_Your_Application.html#sect-Logging_Changes
        tag:
        - logging
        - weblogic
        title: WebLogic proprietary logging classes
        category-id: mandatory
        effort: 1
    where:
    - matches:
      - pattern: (i18n.)?logging.[^N]
      param: logger
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap6/weblogic/weblogic-services.windup.xml
