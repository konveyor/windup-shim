metadata:
- description: "\n            This ruleset detects embedded cache libraries, which
    may be problematic when migrating an application to a cloud environment.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
  targetTechnology:
  - id: cloud-readiness
  phase: InitialAnalysisPhase
rules:
  rule:
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds an Ehcache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Ehcache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Ehcache
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a Coherence library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Coherence embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Coherence
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds an Apache Commons JCS
          library.\n\n                        An embedded cache library is problematic
          because state information might not be persisted to a backing service.\n\n
          \                       Recommendation: Use a cache backing service.\n                    "
        title: Caching - Apache Commons JCS embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Apache Commons JCS
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a Dynacache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Dynacache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Dynacache
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a library that provides
          caching.\n\n                        An embedded cache library is problematic
          because state information might not be persisted to a backing service.\n\n
          \                       Recommendation: Use a cache backing service.\n                    "
        title: Caching - Embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Cache API
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a Hazelcast library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Hazelcast embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Hazelcast
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds an Apache Ignite library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Apache Ignite embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Apache Ignite
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds an Infinispan library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Infinispan embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Infinispan
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embedds a JBoss Cache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - JBoss Cache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: JBoss Cache
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a JCache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - JCache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: JCache
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a Memcached client library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Memcached client embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Memcached client
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds an Oscache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - Oscache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: Oscache
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a ShiftOne library (Java
          Object Cache or JOCache).\n\n                        An embedded cache library
          is problematic because state information might not be persisted to a backing
          service.\n\n                        Recommendation: Use a cache backing
          service.\n                    "
        title: Caching - ShiftOne (Java Object Cache) embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: ShiftOne
        level: INFORMATIONAL
  - when:
      graph-query:
      - property:
          name: fileName
          searchType: regex
        discriminator: JarArchiveModel
    perform:
      classification:
      - description:
        - "\n                        The application embeds a SwarmCache library.\n\n
          \                       An embedded cache library is problematic because
          state information might not be persisted to a backing service.\n\n                        Recommendation:
          Use a cache backing service.\n                    "
        title: Caching - SwarmCache embedded library
        effort: 5
        category-id: cloud-mandatory
      technology-tag:
      - value: SwarmCache
        level: INFORMATIONAL
  - when:
      or:
      - project:
        - artifact:
            groupId: org.springframework.boot
            artifactId: spring-boot-starter-cache
        dependency:
        - groupId: org.springframework.boot
          artifactId: spring-boot-starter-cache
    perform:
      classification:
      - description:
        - "\n                        The application embeds the Spring Boot Cache
          library.\n                    "
        title: Caching - Spring Boot Cache library
        category-id: information
      technology-tag:
      - value: Spring Boot Cache
        level: INFORMATIONAL
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/openshift/embedded-cache-libraries.windup.xml
