metadata:
- description: "\n            This ruleset provides analysis for migration from Hibernate
    Search 4.x to Hibernate Search 5.x.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,2.4.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,2.4.0.Final
  sourceTechnology:
  - id: hibernate-search
    versionRange: '[4,5)'
  - id: eap
    versionRange: '[6,7)'
  targetTechnology:
  - id: hibernate-search
    versionRange: '[5,)'
  - id: eap
    versionRange: '[7,8)'
  tag:
  - hibernate-search
  - hibernate
rules:
  rule:
  - when:
      javaclass:
      - references: org.hibernate.search.{*}
    perform:
      classification:
      - description:
        - Hibernate Search library API used in application.
        tag:
        - hibernate-search
        title: Hibernate Search - API usage
        category-id: optional
        issue-display-mode: detail-only
  - when:
      javaclass:
      - references: org.hibernate.search.impl.SearchMappingBuilder
    perform:
      hint:
      - message: The class `org.hibernate.search.impl.SearchMappingBuilder` was replaced
          by `org.hibernate.search.engine.spi.SearchMappingHelper` class.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Renamed class SearchMappingBuilder
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.Environment
    perform:
      hint:
      - message: The class `org.hibernate.search.Environment` was replaced by `org.hibernate.search.cfg.Environment`
          class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for Environment
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.FullTextFilter
    perform:
      hint:
      - message: The class `org.hibernate.search.FullTextFilter` was replaced by `org.hibernate.search.filter.FullTextFilter`
          class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for FullTextFilter
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.indexes.impl.DirectoryBasedIndexManager
    perform:
      hint:
      - message: The class `org.hibernate.search.indexes.impl.DirectoryBasedIndexManager`
          was replaced by `org.hibernate.search.indexes.spi.DirectoryBasedIndexManager`
          class.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for DirectoryBasedIndexManager
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.infinispan.impl.InfinispanDirectoryProvider
    perform:
      hint:
      - message: The class `org.hibernate.search.infinispan.impl.InfinispanDirectoryProvider`
          was replaced by `org.hibernate.search.infinispan.spi.InfinispanDirectoryProvider`
          class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for InfinispanDirectoryProvider
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.ProjectionConstants
    perform:
      hint:
      - message: The class `org.hibernate.search.ProjectionConstants` was replaced
          by `org.hibernate.search.engine.ProjectionConstants` class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for ProjectionConstants
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.SearchException
    perform:
      hint:
      - message: The class `org.hibernate.search.SearchException` was replaced by
          `org.hibernate.search.exception.SearchException` class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for SearchException
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.spi.MassIndexerFactory
    perform:
      hint:
      - message: The class `org.hibernate.search.spi.MassIndexerFactory` was replaced
          by `org.hibernate.search.batchindexing.spi.MassIndexerFactory` class.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for MassIndexerFactory
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.spi.SearchFactoryBuilder
    perform:
      hint:
      - message: The class `org.hibernate.search.spi.SearchFactoryBuilder` was replaced
          by `org.hibernate.search.spi.SearchIntegratorBuilder` class.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        - value: ""
          title: SearchIntegrationBuilder javadoc
          href: http://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/spi/SearchIntegratorBuilder.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated interface org.hibernate.search.spi.SearchFactoryBuilder
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.spi.SearchFactoryIntegrator
    perform:
      hint:
      - message: |-
          Do not use `org.hibernate.search.spi.SearchFactoryIntegrator`. You should migrate all code to use `org.hibernate.search.spi.SearchIntegrator`.
                              This interface is a temporary placeholder and will be removed at the next micro release!
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        - value: ""
          title: Hibernate Search javadoc for SearchIntegrator
          href: https://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/spi/SearchIntegrator.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated interface org.hibernate.search.spi.SearchFactoryIntegrator
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.Version
    perform:
      hint:
      - message: The class `org.hibernate.search.Version` was replaced by `org.hibernate.search.engine.Version`
          class.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Package change for Version
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - CONSTRUCTOR_CALL
        references: org.hibernate.search.cfg.NumericFieldMapping(org.hibernate.search.cfg.PropertyDescriptor,
          org.hibernate.search.cfg.EntityDescriptor, org.hibernate.search.cfg.SearchMapping)
    perform:
      hint:
      - message: Use `NumericFieldMapping.NumericFieldMapping(String, PropertyDescriptor,
          EntityDescriptor, SearchMapping)` instead.
        link:
        - value: ""
          title: Hibernate Search 5.x Deprecated Constructors
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_constructors
        - value: ""
          title: Hibernate Search javadoc
          href: https://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/cfg/NumericFieldMapping.html#NumericFieldMapping-org.hibernate.search.cfg.PropertyDescriptor-org.hibernate.search.cfg.EntityDescriptor-org.hibernate.search.cfg.SearchMapping-
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated constructor NumericFieldMapping.NumericFieldMapping
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.store.IndexShardingStrategy
    perform:
      hint:
      - message: |-
          `org.hibernate.search.store.IndexShardingStrategy` interface is deprecated as of Hibernate Search 4.4. Might be removed in Hibernate Search 5.
                              Use `org.hibernate.search.store.ShardIdentifierProvider` instead.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        - value: ""
          title: Hibernate Search javadoc
          href: https://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/store/ShardIdentifierProvider.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated interface org.hibernate.search.store.IndexShardingStrategy
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.store.Workspace
    perform:
      hint:
      - message: '`org.hibernate.search.store.Workspace` interface will be moved and
          considered as non-public API.'
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated interface org.hibernate.search.store.Workspace
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.filter.FilterKey
    perform:
      hint:
      - message: Custom filter keys are deprecated and are scheduled for removal in
          Hibernate Search 6. As of Hibernate Search 5.1, keys for caching Lucene
          filters are calculated automatically based on the given filter parameters.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        - value: ""
          title: Hibernate Search 5.1 API changes
          href: http://hibernate.org/search/documentation/migrate/5.1/#api-changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated interface org.hibernate.search.filter.FilterKey
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.filter.StandardFilterKey
    perform:
      hint:
      - message: |-
          Custom filter keys `StandardFilterKey` are deprecated and are scheduled for removal in Hibernate Search 6.
                              As of Hibernate Search 5.1, keys for caching Lucene filters are calculated automatically based on the given filter parameters.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        - value: ""
          title: Hibernate Search 5.1 API changes
          href: http://hibernate.org/search/documentation/migrate/5.1/#api-changes
        - value: ""
          title: hibernate Search javadoc
          href: https://docs.jboss.org/hibernate/search/5.5/api/index.html?org/hibernate/search/filter/StandardFilterKey.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated class org.hibernate.search.filter.StandardFilterKey
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.hibernate.search.annotations.FieldCacheType
    perform:
      hint:
      - message: Remove the `@FieldCacheType` annotation. No alternative replacement
          necessary as the Field Cache in Apache Lucene feature does no longer exist.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        - value: ""
          title: hibernate Search javadoc
          href: https://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/annotations/FieldCacheType.html
        tag:
        - hibernate-search
        - annotation
        title: Hibernate Search 5 - Deprecated enum FieldCacheType
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: org.hibernate.search.annotations.CacheFromIndex
    perform:
      hint:
      - message: Remove the `@CacheFromIndex` annotation. No alternative replacement
          necessary.
        link:
        - value: ""
          title: Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_changes
        - value: ""
          title: hibernate Search javadoc for @CacheFromIndex
          href: https://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/annotations/CacheFromIndex.html
        tag:
        - hibernate-search
        quickfix:
        - search: '@CacheFromIndex'
          type: DELETE_LINE
          name: CacheFromIndex
        title: Hibernate Search 5 - Deprecated annotation CacheFromIndex
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: org.hibernate.search.annotations.Key
    perform:
      hint:
      - message: "Custom filter cache keys are a deprecated feature and are scheduled
          to be removed in Hibernate Search 6.\n                     As of Hibernate
          Search 5.1, the filter cache keys are determined automatically based on
          the filter parameters so it is no longer required to provide a key object. "
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Hibernate Search 5.1 API changes
          href: http://hibernate.org/search/documentation/migrate/5.1/#api-changes
        - value: ""
          title: Hibernate Search javadoc for @Key
          href: https://docs.jboss.org/hibernate/search/5.5/api/index.html?org/hibernate/search/annotations/Key.html
        tag:
        - hibernate-search
        quickfix:
        - search: '@Key'
          type: DELETE_LINE
          name: Key
        title: Hibernate Search 5 - Deprecated annotation Key
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - ENUM_CONSTANT
        - IMPORT
        references: org.hibernate.search.backend.configuration.impl.IndexWriterSetting.{constant}
    perform:
      hint:
      - message: |-
          The `IndexWriterSetting.MAX_THREAD_STATES` and `IndexWriterSetting.TERM_INDEX_INTERVAL` enum constants are deprecated.
                              They affect which properties are read from the configuration, so the fact they they are missing means that configuration properties such as `hibernate.search.Animals.2.indexwriter.term_index_interval = default` are now ignored.
                              The only side effect is that the property is not applied.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated enum constant in IndexWriterSetting
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (MAX_THREAD_STATES|TERM_INDEX_INTERVAL)
      param: constant
  - when:
      javaclass:
      - location:
        - ANNOTATION
        annotation-literal:
          name: spatialMode
          pattern: SpatialMode.GRID
        references: org.hibernate.search.annotations.Spatial
    perform:
      hint:
      - message: The enum value `SpatialMode.GRID` for `@Spatial` annotation was renamed
          to `SpatialMode.HASH`.
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        tag:
        - hibernate-search
        quickfix:
        - replacement: SpatialMode.HASH
          search: SpatialMode.GRID
          type: REPLACE
          name: SpatialGridRename
        title: Hibernate Search 5 - Renamed SpatialMode.GRID to HASH
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - INHERITANCE
        references: org.hibernate.search.event.impl.FullTextIndexEventListener
    perform:
      hint:
      - message: The class `FullTextIndexEventListener` is now a final class. If you
          currently extend this class, you must find an alternate solution to achieve
          the same functionality. You could in some cases use an `EntityIndexingInterceptor`.
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: FullTextIndexEventListener now final
          href: http://hibernate.org/search/documentation/migrate/5.0/#fulltextindexeventlistener-now-final
        tag:
        - hibernate-search
        title: Hibernate Search 5 - FullTextIndexEventListener class is now final
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - INHERITANCE
        references: org.hibernate.search.backend.impl.jms.AbstractJMSHibernateSearchController
    perform:
      hint:
      - message: |-
          The JMS backend was depending to Hibernate ORM. This dependency was removed, so that the backend can be used in other (non ORM) environments as well.
                              A consequence is that implementors of `org.hibernate.search.backend.impl.jms.AbstractJMSHibernateSearchController` will need to adjust to the new signature.
                               This class is really considered internal. We suggest to take this class as an example instead of extending it.
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: JMS Controller API changed
          href: http://hibernate.org/search/documentation/migrate/5.0/#jms-controller-api-changed
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Internal AbstractJMSHibernateSearchController
          class used
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - IMPLEMENTS_TYPE
        references: org.hibernate.search.spi.ServiceProvider
    perform:
      hint:
      - message: |-
          The `org.hibernate.search.spi.ServiceProvider` SPI has been refactored.
                              If you where integrating with the old service contract, refer to the javadoc of `ServiceManager`, `Service`, `Startable` and `Stoppable` for details about the new contract.
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Hibernate Search javadoc for ServiceManager
          href: http://docs.jboss.org/hibernate/search/5.0/api/org/hibernate/search/engine/service/spi/ServiceManager.html
        - value: ""
          title: Hibernate Search javadoc for Service
          href: http://docs.jboss.org/hibernate/search/5.0/api/org/hibernate/search/engine/service/spi/Service.html
        - value: ""
          title: Hibernate Search javadoc for Stoppable
          href: http://docs.jboss.org/hibernate/search/5.0/api/org/hibernate/search/engine/service/spi/Stoppable.html
        - value: ""
          title: Hibernate Search javadoc for Startable
          href: http://docs.jboss.org/hibernate/search/5.0/api/org/hibernate/search/engine/service/spi/Startable.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - ServiceProvider implementation
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: org.hibernate.search.annotations.IndexedEmbedded
    perform:
      hint:
      - message: "\n                     When using an `@IndexedEmbedded` annotation
          to include fields from a related entity,\n                     the id of
          the related entity is no longer included.\n\n                     You can
          enable the inclusion of the id by using the `includeEmbeddedObjectId` attribute
          of the `@IndexedEmbedded` annotation.\n\n                     ```java\n
          \                    @IndexedEmbedded(includeEmbeddedObjectId=true)\n                     ```\n\n
          \                   "
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Hibernate Search javadoc for IndexedEmbedded
          href: https://docs.jboss.org/hibernate/search/5.5/api/index.html?org/hibernate/search/annotations/IndexedEmbedded.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Indexing of id fields of Embedded Relations
        category-id: optional
        effort: 1
  - when:
      or:
      - javaclass:
        - location:
          - ANNOTATION
          annotation-type:
            pattern: org.hibernate.search.annotations.NumericFields
          annotation-literal:
            name: index
            pattern: Index.YES
          references: org.hibernate.search.annotations.Field
        - location:
          - ANNOTATION
          annotation-type:
            pattern: org.hibernate.search.annotations.NumericField
          annotation-literal:
            name: index
            pattern: Index.YES
          references: org.hibernate.search.annotations.Field
        - annotation-type:
            pattern: org.hibernate.search.annotations.Fields
          references: java.util.{date}
        - annotation-type:
            pattern: org.hibernate.search.annotations.Fields
          references: java.lang.{wrapper}
    perform:
      hint:
      - message: "\n            Numbers and dates are now indexed as numeric fields
          by default. Properties of type int, long, float, double, and their\n            corresponding
          wrapper classes are no longer indexed as strings. Instead, they are now
          indexed using Lucene’s appropriate numeric\n            encoding. The id
          fields are an exception to this rule. Even when they are represented by
          a numeric type, they are still indexed as\n            a string keyword
          by default. The use of `@NumericField` is now obsolete unless you want to
          specify a custom precision for the numeric\n            encoding. You can
          keep the old string-based index format by explicitly specifying a string
          encoding field bridge. In the case of\n            integers, this is the
          `org.hibernate.search.bridge.builtin.IntegerBridge`. Check the `org.hibernate.search.bridge.builtin`
          package for\n            other publicly available field bridges.\n\n            Date
          and Calendar are no longer indexed as strings. Instead, instances are encoded
          as long values representing the number\n            of milliseconds since
          January 1, 1970, 00:00:00 GMT. You can switch the indexing format by using
          the new EncodingType enum. For example:\n\n            ```java\n            @DateBridge(encoding=EncodingType.STRING)\n
          \           @CalendarBridge(encoding=EncodingType.STRING)\n            ```\n\n
          \           The encoding change for numbers and dates is important and can
          have a big impact on application behavior. If you have\n            a query
          that targets a field that was previously string-encoded, but is now encoded
          numerically, you must update the query. Numeric\n             fields must
          be searched with a NumericRangeQuery. You must also make sure that all fields
          targeted by faceting are string encoded.\n            If you use the Search
          query DSL, the correct query should be created automatically for you.\n
          \           "
        link:
        - value: ""
          title: Number and Date Index Formatting Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_number_and_date_index_formatting_changes
        - value: ""
          title: Number and date index format
          href: http://hibernate.org/search/documentation/migrate/5.0/#number-and-date-index-format
        - value: ""
          title: Javadoc API for org.hibernate.search.bridge.builtin package
          href: http://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/bridge/builtin/package-summary.html
        - value: ""
          title: Javadoc API for IntegerBridge
          href: http://docs.jboss.org/hibernate/search/5.5/api/org/hibernate/search/bridge/builtin/IntegerBridge.html
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Changes in indexing numeric and date values
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (Integer|Long|Float|Double)
      param: wrapper
    - matches:
      - value: ""
        pattern: (Calendar|Date)
      param: date
  - when:
      javaclass:
      - location:
        - ANNOTATION
        annotation-literal:
          name: indexNullAs
          pattern: '{*}'
        references: org.hibernate.search.annotations.Field
    perform:
      hint:
      - message: "When using `@Field(indexNullAs=)` to encode a null marker value
          in the index, the type of the marker must be compatible with all other values
          that are indexed in that same field.\n                    For example, it
          was previously possible to encode a null value for numeric fields using
          a string _null_.\n                    This is no longer allowed. Instead,
          you must choose a number to represent the null value, such as -1. "
        link:
        - value: ""
          title: Miscellaneous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Null value tokens for numeric fields
          href: http://hibernate.org/search/documentation/migrate/5.5/#null-value-tokens-for-numeric-fields
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Changes in indexing null values
        category-id: optional
        effort: 1
  - when:
      or:
      - javaclass:
        - location:
          - METHOD_CALL
          references: org.hibernate.search.query.dsl.QueryBuilder.facet{*}
        - location:
          - METHOD_CALL
          references: org.hibernate.search.FullTextQuery.getFacetManager{*}
        - references: org.hibernate.search.query.facet.{class}
    perform:
      hint:
      - message: Significant improvements were made to the faceting engine. Most of
          the changes do not affect the API. The one notable exception is that you
          must now annotate any fields you intend to use for faceting with the `@Facet`
          or `@Facets` annotation.
        link:
        - value: ""
          title: Miscellaneous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Lucene native faceting
          href: http://in.relation.to/2015/05/11/hibernate-search-530-beta-1-with-native-lucene-faceting
        - value: ""
          title: Query faceting
          href: http://docs.jboss.org/hibernate/search/5.5/reference/en-US/html_single/#query-faceting
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Improvements in Faceting Engine
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (Facet|FacetingRequest|FacetSelection|FacetSortOrder|RangeFacet)
      param: class
  - when:
      or:
      - javaclass:
        - annotation-type:
            pattern: org.hibernate.search.annotations.Field
          references: java.util.{date}
        - annotation-type:
            pattern: org.hibernate.search.annotations.Field
          references: java.lang.{wrapper}
    perform:
      hint:
      - message: |-
          Numbers and dates now indexed as numeric fields by default.
          Properties of type `Date`, `Calendar` as well as `int`, `long`, `float`, `double` and their corresponding wrappers, are no longer indexed as strings. Instead, they are now indexed using Lucene’s appropriate numeric encoding.

          The `id` fields are an exception to this rule: even when these are represented by a numeric type, they will still be indexed as a string keyword by default..
        link:
        - value: ""
          title: Miscellaneous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        - value: ""
          title: Numeric and Date index format
          href: http://hibernate.org/search/documentation/migrate/5.5/#number-and-date-index-format
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Changes in indexing numeric values
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (Integer|Long|Float|Double)
      param: wrapper
    - matches:
      - value: ""
        pattern: (Calendar|Date)
      param: date
  - when:
      project:
      - artifact:
          groupId: org.hibernate
          artifactId: hibernate-search-analyzers
    perform:
      lineitem:
      - value: ""
        message: Maven artifact org.hibernate:hibernate-search-analyzers was removed
          from Hibernate Search 5. We recommend to depend on the appropriate Lucene
          artifact directly, for example org.apache.lucene:lucene-analyzers-common.
  - when:
      xmlfile:
      - matches: //*[local-name() = 'artifactId' and text() = 'hibernate-search-analyzers']
        in: pom.xml
    perform:
      hint:
      - message: |-
          The hibernate-search-analyzers module was removed. The recommended approach is to directly use the appropriate Lucene artifact,
                               for example org.apache.lucene:lucene-analyzers-common.
        link:
        - value: ""
          title: Miscelanous Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        tag:
        - hibernate-search
        - maven
        title: Hibernate Search 5 - Dropped hibernate-search-analyzers maven artifact
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - CONSTRUCTOR_CALL
        references: org.apache.lucene.search.SortField({*})
    perform:
      hint:
      - message: "\n                    The Lucene SortField API requires the following
          application code change. In the previous release of JBoss EAP, you set the
          type of the sort field in the query as follows.\n\n```java\nfulltextQuery.setSort(new
          Sort(new SortField(\"title\", SortField.STRING)));\n```\n\nThe following
          is an example of how you set it in JBoss EAP 7.\n\n```java\nfulltextQuery.setSort(new
          Sort(new SortField(\"title\", SortField.Type.STRING)))\n```\n\n                     "
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#sorting-options
        - value: ""
          title: Miscellaneous Hibernate Search Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Changed constructor for org.apache.lucene.search.SortField
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.cfg.ContainedInMapping.numericField{*}
    perform:
      hint:
      - message: Method `ContainedInMapping#numericField()` has been deprecated and
          is scheduled for removal. Invoke `ContainedInMapping#field().numericField()`
          instead.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method ContainedInMapping#numericField
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.FullTextSharedSessionBuilder.autoClose{*}
    perform:
      hint:
      - message: Don't use `FullTextSharedSessionBuilder#autoclose()` and `FullTextSharedSessionBuilder#autoclose(boolean)`
          method. There is no replacement.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method FullTextSharedSessionBuilder#autoClose
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.cfg.IndexedMapping.cacheFromIndex{*}
    perform:
      hint:
      - message: This will be removed with no replacement.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method IndexedMapping#cacheFromIndex
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.cfg.EntityDescriptor.getCacheInMemory{*}
    perform:
      hint:
      - message: This will be removed with no replacement.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method EntityDescriptor#getCacheInMemory
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.query.engine.spi.HSQuery.getExtendedSearchIntegrator{*}
    perform:
      hint:
      - message: should be at most SearchIntegrator, preferably removed altogether
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method HSQuery#getExtendedSearchIntegrator
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.engine.spi.DocumentBuilderIndexedEntity.getFieldCacheOption{*}
    perform:
      hint:
      - message: The `DocumentBuilderIndexedEntity#getFieldCacheOption()` method has
          been deprecated. There is no replacement.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method DocumentBuilderIndexedEntity#getFieldCacheOption
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.spi.BuildContext.getIndexingStrategy{*}
    perform:
      hint:
      - message: The `BuildContext#getIndexingStrategy()` method is deprecated. Use
          `BuildContext#getIndexingMode()` instead.
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method BuildContext#getIndexingStrategy
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.store.spi.DirectoryHelper.getVerifiedIndexDir{*}
    perform:
      hint:
      - message: 'The `DirectoryHelper#getVerifiedIndexDir(String, Properties, boolean)`
          method is deprecated. Use `DirectoryHelper#getVerifiedIndexPath(java.lang.String,
          java.util.Properties, boolean)` instead. '
        link:
        - value: ""
          title: Advanced Integrator Changes in Hibernate Search 5.x
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method DirectoryHelper#getVerifiedIndexDir
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.cfg.EntityDescriptor.setCacheInMemory{*}
    perform:
      hint:
      - message: Method `org.hibernate.search.cfg.EntityDescriptor.setCacheInMemory`
          is deprecated and there is no replacement.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Miscellaneous Hibernate Search Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_miscellaneous_hibernate_search_changes
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method EntityDescriptor#setCacheInMemory
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.MassIndexer.threadsForSubsequentFetching{*}
    perform:
      hint:
      - message: Method `org.hibernate.search.MassIndexer.threadsForSubsequentFetching(int)`
          is deprecated and will be removed.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method MassIndexer#threadsForSubsequentFetching
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.query.dsl.FuzzyContext.withThreshold{*}
    perform:
      hint:
      - message: Use `FuzzyContext.withEditDistanceUpTo(int)` instead.
        link:
        - value: ""
          title: Hibernate Search 5.4 to 5.5 migration
          href: http://hibernate.org/search/documentation/migrate/5.5/#api-changes
        - value: ""
          title: Hibernate Search Deprecated Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Deprecated method FuzzyContext#withThreshold
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.queryParser.{type}
    perform:
      hint:
      - message: Lucene's core `org.apache.lucene.queryParser.{type}` have been consolidated
          into lucene/queryparser, that results in changing package name so it is
          now named as `org.apache.lucene.queryparser.classic.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Changes Impacting Advanced Integrators
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.queryparser.classic'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (CharStream|FastCharStream|MultiFieldQueryParser|ParseException|QueryParser|QueryParserBase|QueryParserConstants|QueryParserTokenManager)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.queryParser.QueryParserToken
    perform:
      hint:
      - message: Lucene's core `org.apache.lucene.queryParser.QueryParserToken` have
          been consolidated into lucene/queryparser, that results in changing package
          name so it is now named as `org.apache.lucene.queryparser.classic.Token`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Changes Impacting Advanced Integrators
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Renamed class org.apache.lucene.queryParser.QueryParserToken
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.queryParser.QueryParserTokenMgrError
    perform:
      hint:
      - message: Lucene's core `org.apache.lucene.queryParser.QueryParserTokenMgrError`
          have been consolidated into lucene/queryparser, that results in changing
          package name so it is now named as `org.apache.lucene.queryparser.classic.TokenMgrError`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Changes Impacting Advanced Integrators
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Renamed class org.apache.lucene.queryParser.QueryParserTokenMgrError
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.{type}` to `org.apache.lucene.analysis.core.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.analysis.core'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (KeywordAnalyzer|KeywordTokenizer|LetterTokenizer|LowerCaseFilter|LowerCaseTokenizer|SimpleAnalyzer|StopAnalyzer|StopFilter|WhitespaceAnalyzer|WhitespaceTokenizer)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.PorterStemFilter
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.PorterStemFilter` to `org.apache.lucene.analysis.en.PorterStemFilter`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Class 'PorterStemFilter' repackaged to 'org.apache.lucene.analysis.en'
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.{type}` to `org.apache.lucene.analysis.miscellaneous.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.analysis.miscellaneous'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (ASCIIFoldingFilter|ISOLatin1AccentFilter|KeywordMarkerFilter|LengthFilter|PerFieldAnalyzerWrapper)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.TeeSinkTokenFilter
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.TeeSinkTokenFilter` to `org.apache.lucene.analysis.sinks.TeeSinkTokenFilter`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Class 'TeeSinkTokenFilter' repackaged to 'org.apache.lucene.analysis.sinks'
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.{type}` to `org.apache.lucene.analysis.charfilter.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.analysis.charfilter'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (CharFilter|BaseCharFilter|MappingCharFilter|NormalizeCharMap)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.analysis.{type}` to `org.apache.lucene.analysis.util.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.analysis.util'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (CharArraySet|CharArrayMap|StopwordAnalyzerBase|WordlistLoader|CharTokenizer)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.analysis.ReusableAnalyzerBase
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring class name have changed for `org.apache.lucene.analysis.ReusableAnalyzerBase` to `org.apache.lucene.analysis.Analyzer`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Class 'ReusableAnalyzerBase' renamed to 'org.apache.lucene.analysis.Analyzer'
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.util.CharacterUtils
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.util.CharacterUtils` to `org.apache.lucene.analysis.util.CharacterUtils`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Class 'CharacterUtils' repackaged to 'org.apache.lucene.analysis.util'
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.search.function.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.search.function.{type}` to `org.apache.lucene.queries.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.queries'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (CustomScoreQuery|CustomScoreProvider)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.search.function.NumericIndexDocValueSource
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.search.function.NumericIndexDocValueSource` to `org.apache.lucene.queries.function.valuesource.NumericIndexDocValueSource`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Class 'NumericIndexDocValueSource' repackaged to 'org.apache.lucene.queries.function.valuesource'
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.apache.lucene.search.function.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.search.function.{type}` to `org.apache.lucene.queries.function.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.queries.function'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (DocValues|FieldScoreQuery|ValueSource|ValueSourceQuery)
      param: type
  - when:
      javaclass:
      - references: org.apache.lucene.search.function.{type}
    perform:
      hint:
      - message: |-
          Lucene's core and contrib analyzers, along with Solr's analyzers, were consolidated into lucene/analysis module.
                               During the refactoring package name have changed for `org.apache.lucene.search.function.{type}` to `org.apache.lucene.queries.function.valuesources.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Lucene - Renamed and Repackaged Classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_lucene_renamed_and_repackaged_classes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Classes repackaged to 'org.apache.lucene.queries.function.valuesources'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (ByteFieldSource|FieldCacheSource|FloatFieldSource|IntFieldSource|OrdFieldSource|ReverseOrdFieldSource|ShortFieldSource)
      param: type
  - when:
      javaclass:
      - references: org.apache.solr.analysis.{type}
    perform:
      hint:
      - message: Solr utilities class `org.apache.solr.analysis.{type}` was moved
          into Apache Lucene so you can use `org.apache.lucene.analysis.util.{type}`.
        link:
        - value: ""
          title: Apache Lucene Migration Guide
          href: http://lucene.apache.org/core/4_10_2/MIGRATE.html
        - value: ""
          title: Renamed classes within Apache Lucene
          href: http://hibernate.org/search/documentation/migrate/5.0/#within-apache-lucene
        - value: ""
          title: Changes Impacting Advanced Integrators
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_advanced_integrator_changes
        tag:
        - hibernate-search
        - lucene
        title: Lucene 4.x - Solr classes repackaged to 'org.apache.lucene.analysis.util'
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (TokenizerFactory|TokenFilterFactory)
      param: type
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.hibernate.search.MassIndexer.threadsForIndexWriter{*}
    perform:
      hint:
      - message: Method `org.hibernate.search.MassIndexer#threadsForIndexWriter(int)`
          was removed in Hibernate Search 5.
        link:
        - value: ""
          title: Hibernate Search Removed Methods
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_hibernate_search_deprecated_methods
        tag:
        - hibernate-search
        title: Hibernate Search 5 - Removed method MassIndexer#threadsForIndexWriter
        category-id: optional
        effort: 1
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/hsearch.windup.xml
